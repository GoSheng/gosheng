const GoSheng_href=window.location.href,GoSheng_origin=window.location.origin,GoSheng_Body_clientWidth=document.body.clientWidth,GoSheng_Body_clientHeight=document.body.clientHeight,GoSheng_Body_offsetWidth=document.body.offsetWidth,GoSheng_Body_offsetHeight=document.body.offsetHeight,GoSheng_Body_scrollWidth=document.body.scrollWidth,GoSheng_Body_scrollHeight=document.body.scrollHeight,GoSheng_Body_scrollTop=document.body.scrollTop,GoSheng_Body_scrollLeft=document.body.scrollLeft,GoSheng_Window_screenTop=window.screenTop,GoSheng_Window_screenLeft=window.screenLeft,GoSheng_Window_Screen_Width=window.screen.width,GoSheng_Window_Screen_Heigth=window.screen.height,GoSheng_Window_Screen_availWidth=window.screen.availWidth,GoSheng_Window_Screen_availHeight=window.screen.availHeight;let notyf=new Notyf({delay:7e3,alertIcon:"fas fa-exclamation-circle",confirmIcon:"fas fa-check-circle"});function topControl(e){e.preventDefault(),$("html,body").animate({scrollTop:"0px"},800)}!function(){let e=document.querySelector("#modalLogin"),t=document.querySelector("#reward_modal");function o(e){let t=e.relatedTarget.dataset.modaltab;t&&$("#modalTab_"+t).tab("show")}function n(e){e.classList.remove("zoomOut"),e.classList.add("animated","zoomIn")}function i(e){e.classList.remove("zoomIn"),e.classList.add("zoomOut")}e?($("#modalLogin").on("show.bs.modal",function(t){n(e),o(t)}),$("#modalLogin").on("hide.bs.modal",function(t){i(e)})):t&&($("#reward_modal").on("show.bs.modal",function(e){n(t),o(e)}),$("#reward_modal").on("hide.bs.modal",function(e){i(t)}))}(),function(){if(document.body.querySelector("#Gosheng_searchForm")){let c=document.body.querySelector("#Gosheng_searchForm"),a=c.querySelector("#s"),l=c.querySelector("#search_history"),s=c.querySelector("#searchSubmit"),r=function(){l.style.minWidth=a.offsetWidth+"px",window.addEventListener("resize",r)};function e(e){let t=document.createElement("li"),o=document.createElement("div"),n=document.createElement("span"),i=document.createElement("a"),c=document.createElement("span");t.className="history_list",o.className="history_data",n.className="history_text",n.innerText=e,i.className="btn_delete",i.innerText="删除",i.href="javascript:;",c.className="history_tips",c.innerText="该记录已经删除",l.appendChild(t),t.appendChild(o),o.appendChild(n),o.appendChild(i),o.appendChild(c)}function t(e){e.target.querySelector(".history_text")&&(a.placeholder=e.target.querySelector(".history_text").innerText),e.target.addEventListener("mousedown",o)}function o(e){e.target.querySelector(".history_text")&&(a.value=e.target.querySelector(".history_text").innerText)}function n(e){e.preventDefault(),e.target.previousSibling.style.display="none",e.target.nextSibling.style.display="block",e.target.addEventListener("click",i)}function i(e){let t=e.target.previousSibling.innerText,o=JSON.parse(GoSheng_GetCookie("gosheng_search_history"));o.indexOf(t)>=0?(o.splice(o.indexOf(t),1),GoSheng_SetCookie("gosheng_search_history",JSON.stringify(o),365)):console.log("其他情况发生")}r(),a.addEventListener("focus",function(){0==a.value.length&&(!function(){if(GoSheng_GetCookie("gosheng_search_history")){let t=JSON.parse(GoSheng_GetCookie("gosheng_search_history"));if(t&&t.length>0){l.style.display="block";for(let o of Object.values(t))e(o)}}}(),function(){let e=l.querySelectorAll(".history_list");for(let o=e.length,n=0;n<o;n++)e[n].addEventListener("mouseover",t)}(),function(){let e=l.querySelectorAll(".btn_delete");for(let t=e.length,o=0;o<t;o++)e[o].addEventListener("mousedown",n)}(),a.style.borderBottomLeftRadius="unset")}),a.addEventListener("blur",function(){l.style.display="none",function(){let e=l.querySelectorAll(".history_list");for(let t=e.length,o=0;o<t;o++)e[o].parentNode.removeChild(e[o])}(),a.style.borderBottomLeftRadius=""}),s.addEventListener("click",function(){!function(){let e=a.value;if(e.length>0)if(GoSheng_GetCookie("gosheng_search_history")){let t=JSON.parse(GoSheng_GetCookie("gosheng_search_history"));t.indexOf(e)&&(t.unshift(e),GoSheng_SetCookie("gosheng_search_history",JSON.stringify(t),365))}else if(e.length>0){let t=[];t.unshift(e),GoSheng_SetCookie("gosheng_search_history",JSON.stringify(t),365)}}()}),s.addEventListener("click",function(){a.placeholder=""})}}(),function(){if(document.querySelector("#sidebar")){document.querySelector("#floatToolSidebar").classList.remove("d-none")}}(),function(){let e=document.querySelector("#headerNav");if($("#floatTools>a").tooltip({placement:"left"}),e){document.querySelector("#floatTools");let o,n=document.querySelector("#floatToolQQ"),i=document.querySelector("#floatToolComment"),c=document.querySelector("#floatToolBackTop"),a=0;function t(){o=window.scrollY,a<o&&o>49?(e.classList.remove("slideDown"),e.classList.add("slideUp","fixed-top"),a<o&&o>400&&(n&&n.classList.remove("d-none"),i&&i.classList.remove("d-none"),c&&c.classList.remove("d-none"))):a>o&&(e.classList.remove("slideUp"),e.classList.add("slideDown","fixed-top"),o<400&&(n&&n.classList.add("d-none"),i&&i.classList.add("d-none"),c&&c.classList.add("d-none"),o<49&&e.classList.remove("slideDown","fixed-top"))),a=o}setTimeout(function(){document.addEventListener("scroll",t)},500)}}(),function(){if(document.querySelector("#gosheng_share")){let t=document.querySelectorAll("a[id^=gosheng_share_]");for(let o=t.length,n=0;n<o;n++)t[n].addEventListener("click",e);function e(e){switch(e.preventDefault(),e.target.id){case"gosheng_share_weibo":case"gosheng_share_weixin":case"gosheng_share_qq":case"gosheng_share_tencent-weibo":case"gosheng_share_facebook":case"gosheng_share_twitter":break;case"gosheng_share_google-plus":window.open("https://plus.google.com/share?url="+GoSheng_href,"_blank","toolbar=yes, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, width=400, height=978")}}let o=document.querySelector("#gosheng_share_weixin");o&&o.addEventListener("click",function(){layer.open({style:"border:none; background-color:#cccccc7d; color:#fff;",title:"分享页面二维码",content:"扫一扫二维码，打开本页面。",success:function(){new QRCode(document.getElementsByClassName("layui-m-layercont")[0],{text:GoSheng_href,width:300,height:300,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),function(){let e=document.querySelector(".layui-m-layercont img");e&&e.classList.add("mx-auto","img-thumbnail")}()}})})}}(),function(){let e=document.body.querySelector("#floatToolSidebar"),t=document.body.querySelector("#sidebar"),o=document.body.querySelector("#content");t&&(e.classList.remove("invisible"),e.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("d-none")?(t.classList.remove("bounceOutRight","d-none"),t.classList.add("bounceInRight"),o.classList.add("rubberBand"),setTimeout(function(){o.classList.remove("rubberBand"),o.style.maxWidth="857px"},1e3)):(t.classList.remove("bounceInRight"),t.classList.add("bounceOutRight"),o.classList.add("rubberBand"),setTimeout(function(){o.style.maxWidth="100%",o.classList.remove("rubberBand")},1e3),setTimeout(function(){t.classList.add("d-none")},400))}))}(),function(){let e=document.body.querySelector("#logo");e&&e.addEventListener("click",topControl)}(),function(){let e=document.querySelector("#floatToolBackTop");e&&e.addEventListener("click",topControl)}(),function(){let e=document.querySelector("#floatToolComment"),t=document.querySelector("#GoSheng_comment");e&&e.addEventListener("click",function(e){e.preventDefault(),$("#GoSheng_comment").collapse("toggle")}),e&&e.addEventListener("click",function(t){switch(t.preventDefault(),e.getAttribute("data-original-title")){case"":case"隐藏评论区":e.setAttribute("data-original-title","显示评论区"),GoSheng_SetCookie("GoSheng_comment_area","hidden",7),notyf.confirm("评论区已经设置为隐藏");break;case"显示评论区":e.setAttribute("data-original-title","隐藏评论区"),GoSheng_SetCookie("GoSheng_comment_area","show",7),notyf.confirm("评论区已经设置为可见");break;default:e.setAttribute("data-original-title","显示评论区"),GoSheng_SetCookie("GoSheng_comment_area","hidden",7),notyf.confirm("评论区已经设置为隐藏")}}),t&&function(){switch(GoSheng_GetCookie("GoSheng_comment_area")){case"":case"show":e.setAttribute("data-original-title","隐藏评论区"),t.classList.add("show");break;case"hidden":e.setAttribute("data-original-title","显示评论区"),t.classList.remove("show");break;default:e.setAttribute("data-original-title","隐藏评论区"),t.classList.add("show")}}()}(),$("input[id^='modal_']").tooltip({placement:"bottom"}),$("span[id^='oauth_']").tooltip({placement:"bottom"}),$("#content a").tooltip({placement:"bottom"}),function(){let e=document.querySelectorAll("input[name=redirect_to]");if(e)for(let t=e.length,o=0;o<t;o++)e[o].value=GoSheng_href}(),function(){document.querySelector("main").addEventListener("click",function(){$("#GoSheng_NavMenu_Top").collapse("hide")})}(),function(){let e=document.querySelector("#gosheng_time");e&&(e.innerHTML=(new Date).toLocaleString()+" 星期"+"日一二三四五六".charAt((new Date).getDay()),setInterval("document.querySelector('#gosheng_time').innerHTML=new Date().toLocaleString()+' 星期'+'日一二三四五六'.charAt(new Date().getDay());",1e3))}(),$(document).ready(function(){let e=document.querySelector("#gosheng_cookie"),t=document.querySelector("#gosheng_cookie_agree"),o=document.querySelector("#gosheng_cookie_disagree");if(e){switch(GoSheng_GetCookie("gosheng_cookie_agree")){case"yes":n();break;case"no":i(),c();break;default:i()}}function n(){e.classList.add("d-none")}function i(){e.classList.remove("d-none")}function c(){notyf.alert("您已经拒绝本站使用Cookie技术获取浏览信息，请关闭本站即可。")}t&&(t.addEventListener("click",n),t.addEventListener("click",function(){GoSheng_SetCookie("gosheng_cookie_agree","yes",30)}),t.addEventListener("click",function(){notyf.confirm("感谢您同意本站使用Cookie技术获取浏览信息，我们将会为您提供更优质的浏览体验。")})),o&&(o.addEventListener("click",i),o.addEventListener("click",function(){GoSheng_SetCookie("gosheng_cookie_agree","no",30)}),o.addEventListener("click",c))}),$.fn.postLike=function(){if($(this).hasClass("done"))return notyf.alert("一小时只能赞一次哦"),!1;{notyf.confirm("感谢您的赞"),$(this).addClass("done");let e=$(this).data("id"),t=$(this).data("action"),o=$(this).children(".count"),n={action:"GoSheng_like",um_id:e,um_action:t},i=gosheng_wp_root_directory+"wp-admin/admin-ajax.php";return $.post(i,n,function(e){$(o).html(e)}),!1}},$(document).on("click","#gosehng_thumbs_up a",function(){$(this).postLike()}),$("#gosheng_follow_bar").theiaStickySidebar({additionalMarginTop:60}),function(){let e=document.querySelector("#gosheng_notice");if(e){let t=e.querySelector(".close");t.addEventListener("click",function(){$("#gosheng_notice").alert("close"),notyf.confirm("您已关闭公告信息，12小时内不会再出现。")}),t.addEventListener("click",function(){GoSheng_SetCookie("gosheng_notice_closed","yes",.5)})}}(),function(){let e=document.querySelector("#respond");if(e){let t=e.querySelector("#comment_author"),o=e.querySelector("#comment_author_email"),n=e.querySelector("#comment_author_qq"),i=e.querySelector("#comment_author_qq_avatar");n&&n.addEventListener("blur",function(){n.value.length>=5&&n.value.length<12&&(function(){let e=n.value;o.value=e+"@qq.com"}(),function(){let e=n.value,o=gosheng_wp_root_directory+"wp-admin/admin-ajax.php",i={action:"nickname_form_qq_info",qq_number:e};$.ajax({type:"post",url:o,data:i,dataType:"jsonp",jsonpCallback:"portraitCallBack",success:function(o){o[e]?t.value=o[e][6]:(n.value="",n.placeholder="请输入正确的QQ号码")},error:function(e){console.log(e),t.value="昵称获取失败"}})}(),function(){let e=n.value,t=gosheng_wp_root_directory+"wp-admin/admin-ajax.php",o={action:"avatar_form_qq_info",qq_number:e};$.ajax({type:"post",url:t,data:o,dataType:"jsonp",jsonpCallback:"qq_avatarCallBack",success:function(t){i.src=t[e]},error:function(e){console.log("头像获取失败"),console.log(e)}})}())})}}(),function(){let e=document.querySelector("#commentform");e&&e.removeAttribute("novalidate")}(),function(){let e=document.querySelector("#respond");e&&e.classList.add("pb-2","mb-1")}(),function(){let e=document.querySelector("#gosheng_user_agent");e&&(e.value=navigator.userAgent)}(),function(){let e=document.querySelectorAll("input[type=password]");if(e){for(let o=e.length,n=0;n<o;n++)e[n].addEventListener("change",t),e[n].addEventListener("input",t);function t(e){switch(e.target.value.length>0){case!0:e.target.classList.add("letter-spacing-2");break;default:e.target.classList.remove("letter-spacing-2")}}}}(),function(){let e=document.querySelector("#GoSheng_toggle_password");if(e){$("#GoSheng_toggle_password").tooltip(),e.addEventListener("click",function(){switch(this.classList.contains("fa-eye")){case!0:document.querySelector("#modal_login_password").setAttribute("type","text"),e.setAttribute("data-original-title","隐藏密码"),e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash");break;default:document.querySelector("#modal_login_password").setAttribute("type","password"),e.setAttribute("data-original-title","显示密码"),e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye")}})}}(),function(){if(document.querySelector("#GoSheng_hitokoto")){let o=document.querySelector("#GoSheng_hitokoto_text"),n=document.querySelector("#get_new_hitokoto");function e(){this.classList.toggle("fa-spin")}function t(){let e=gosheng_wp_root_directory+"wp-admin/admin-ajax.php";$.ajax({type:"post",url:e,data:{action:"GoSheng_hitokoto_url",type:"url"},dataType:"text",success:function(e){!function(e){let t=e;$.ajax({type:"get",url:t,success:function(e){o.innerText=e},error:function(e){console.log("一言语句获取失败"),console.log(e)}})}(e)},error:function(e){console.log("一言地址获取失败"),console.log(e)}})}n&&(n.addEventListener("mouseenter",e),n.addEventListener("mouseleave",e),n.addEventListener("click",t)),t(),$("#get_new_hitokoto").tooltip()}}(),function(){$("#simle_yan span").tooltip(),$("#simle_emoji span").tooltip();let e=document.querySelector("#gosheng_comment_smile");if(e){document.querySelector("#gosheng_smile");e.addEventListener("click",function(){$("#gosheng_smile").collapse("toggle")})}if(document.querySelector("#gosheng_smile")){let e=document.querySelector("#gosheng_simle_yan"),o=document.querySelector("#gosheng_simle_emoji");function t(e){let t=e.target.parentNode.childNodes;for(let e=0;e<t.length;e++)t[e].classList.toggle("active")}e&&e.addEventListener("click",function(e){t(e)}),o&&o.addEventListener("click",function(e){t(e)})}let o=document.querySelector("#simle_yan");if(o){let e=document.getElementById("comment_textarea");o.addEventListener("click",function(t){t.preventDefault();let o=t.target;if("span"===o.localName||"SPAN"===o.nodeName||"SPAN"===o.tagName){let t=o.dataset.originalTitle,n=t+o.innerHTML,i=e.value;e.value=i+" "+n+" "}})}let n=document.querySelector("#simle_emoji");if(n){let e=document.getElementById("comment_textarea");n.addEventListener("click",function(t){t.preventDefault();let o=t.target;if("span"===o.localName||"SPAN"===o.nodeName||"SPAN"===o.tagName){let t=o.innerHTML,n=e.value;e.value=n+t}})}let i=document.querySelector("#gosheng_comment_clear");if(i){i.addEventListener("click",function(){document.getElementById("comment_textarea").value=""})}}();